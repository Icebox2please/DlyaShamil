# Blockchain with Smart Contracts

Это реализация блокчейна с поддержкой смарт-контрактов, использующая механизм консенсуса Proof of Stake (PoS).

## Особенности

- Реализация собственного DSL для написания смарт-контрактов
- Механизм консенсуса Proof of Stake
- Веб-интерфейс для взаимодействия с блокчейном
- Безопасная криптография, реализованная вручную
- P2P сеть для синхронизации узлов
- Поддержка транзакций и смарт-контрактов

## Требования

- Python 3.8+
- Зависимости из requirements.txt

## Установка

1. Клонируйте репозиторий
2. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Запуск

1. Запустите узел:
```bash
python app.py
```

2. Откройте веб-интерфейс в браузере:
```
http://localhost:5000
```

## Использование

### Транзакции

Вы можете создавать транзакции через веб-интерфейс, указав отправителя, получателя и сумму.

### Смарт-контракты

Для создания смарт-контракта используйте следующий синтаксис DSL:

```
contract ContractName
    # Код контракта
    require condition, "Error message"
    transfer from, to, amount
    emit "EventName", {data}
end
```

### Валидаторы

Для участия в консенсусе PoS необходимо добавить валидатора с определенной долей стейка:

```python
node.blockchain.add_validator(address, stake)
```

## Безопасность

- Все криптографические операции реализованы вручную
- Используется RSA для подписи транзакций
- SHA-256 для хеширования
- Механизм консенсуса PoS для защиты от атак

## Архитектура

- `crypto.py` - криптографические функции
- `blockchain.py` - основная логика блокчейна
- `dsl.py` - движок смарт-контрактов
- `node.py` - реализация P2P узла
- `app.py` - веб-приложение
- `templates/` - HTML шаблоны

## Лицензия

MIT 